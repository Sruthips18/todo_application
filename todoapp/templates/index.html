<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Audiowide|Sofia|Trirong">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Document</title>

</head>
<style>
        *{
            margin: 0;
        }
        body{
            background-image: url('static/images/todobg.jpg');
            background-attachment: fixed;
            background-size: cover;
        }
        .container h2{
            font-family: "Sofia", sans-serif;
        }
        .card{
            width: 30%;
            text-align: center;
            padding: 10px;
        }
        .navbar{
            background-color:rgb(253, 230, 112);
        }

       .icon{
            text-align: right;
        }
</style>
<body>  
            <nav class="navbar  text-dark bg-opacity-5" style="background-color:rgba(154, 126, 152, 0.527) ;">
                <div class="container-fluid">
                  <a class="navbar-brand"><i class="fa-regular fa-pen-to-square"></i>ToDoApp</a>
                  <span class="fst-italic fw-bold text-dark">Hellooo Welcome  {{request.user}}</span>
                  <form class="d-flex" role="search">
                    <a href="{%url 'logout'%}" class="btn btn-warning">Logout</a>
                  </form>
                </div>
              </nav>
        <div class="container mt-4 d-flex justify-content-center">
            <h2 class="text-decoration-underline">ToDoApp</h1>
        </div>
      
       <div class="container mt-2">
           <div class="row">
                <div class="col-3"></div>
                    <div class="col-6">
                        <form action="" method="post">
                            {%csrf_token%}
                            <div class="input-group mb-3">
                                <input type="text" name="name" class="form-control" placeholder="Enter the Task name" aria-label="Recipient's username" aria-describedby="button-addon2">
                                <button class="btn btn-warning text-dark" type="submit" id="button-addon2">Add</button>
                            </div>
                        </form>
                    </div>
                <div class="col-3"></div>
           </div>
       </div>

       <div class="container ">
            <div class="section d-flex justify-content-evenly mb-2 " >
                <div class="card">
                    <h5 class="fst-italic d-flex justify-content-center fw-bold">PENDING TODOS : {{pending}}</h5>
                    {%for todo in data%}
                        {%if todo.status == 'todo'%}
                            <div class="alert alert-warning " role="alert">
                               {{todo}}
                               <a href="{%url 'todo-update' todo.id%}?status=inprogress"><i class="icon fa-solid fa-list" data-toggle="tooltip" title="Mark as In-Progress"></i></a>
                            </div>
                        {%endif%}
                    {%endfor%}
                </div>
                <div class="card">
                    <h5 class="fst-italic d-flex justify-content-center fw-bold">TODOS IN PROGRESS : {{inprogress}}</h5>
                    {%for todo in data%}
                        {%if todo.status == 'inprogress'%}
                        <div class="alert alert-warning" role="alert">
                            {{todo}}
                            <a href="{%url 'todo-update' todo.id%}?status=completed"><i class="fa-regular fa-square-check" data-toggle="tooltip" title="Mark as completed"></i></a>
                         </div>
                        {%endif%}
                    {%endfor%}

                </div>
                <div class="card">
                    <h5 class="fst-italic d-flex justify-content-center fw-bold">COMPLETED TODOS : {{completed}}</h5>
                    {%for todo in data%}
                        {%if todo.status == 'completed'%}
                        <div class="alert alert-warning" role="alert">
                            {{todo}}
                        <a href="{%url 'deletetodo' todo.id%}">   <i class="fa-solid fa-trash-can" style="margin-left: 15px;" data-toggle="tooltip"  title="Remove"></i></a>
                        </div>  
                        {%endif%}
                    {%endfor%}
                </div>
            </div>
       </div>
    </div>
    
</body>
</html>